{% load i18n static %}

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>{% block title %}{{ settings.PACK_SHORTNAME }}{% endblock title %}</title>
  <meta name="description" content="">
  <meta name="author" content="{{ settings.PACK_NAME }}">
  <meta name="apple-mobile-web-app-title" content="{{ settings.PACK_SHORTNAME }}">
  <meta name="application-name" content="{{ settings.PACK_SHORTNAME }}">

  {% block css %}
    <!-- Bootstrap compiled and minified CSS --------------------------------->
    <link rel="stylesheet" href="{% static 'bootstrap/dist/css/bootstrap.min.css' %}">
    <!-- Bootstrap Dark ------------------------------------------------------>
    <link rel="stylesheet" href="{% static '@forevolve/bootstrap-dark/dist/css/bootstrap-dark.min.css' %}" media="screen and (prefers-color-scheme: dark)">
    <!-- Fontawesome compiled and minified CSS ------------------------------->
    <link rel="stylesheet" href="{% static '@fortawesome/fontawesome-free/css/all.min.css' %}">
    <!-- Our own CSS --------------------------------------------------------->
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
  {% endblock css %}
</head>


<body>
<!-- Header Section ------------------------------------------------------>
<header>

  <!-- Banner -------------------------------------------------------------->
  <div class="container-fluid p-0" id="banner">
    <a href="{% url 'pages:home' %}" class="d-inline-block my-5 navbar-brand">
      <div class="row align-items-center px-3">
        <div class="col">
          <img src="{% static 'img/logo.png' %}" width="64" height="36" class="d-block d-sm-none" alt="{% trans '{{ settings.PACK_NAME }} Logo' %}">
          <img src="{% static 'img/logo.png' %}" width="125" height="70" class="d-none d-sm-block" alt="{% trans '{{ settings.PACK_NAME }} Logo' %}">
        </div>
        <div class="col d-none d-sm-block">
          {% if settings.PACK_NAME %}<div class="row" id="pack-name">{{ settings.PACK_NAME }}</div>{% endif %}
          {% if settings.PACK_LOCATION %}<div class="row" id="pack-location">{{ settings.PACK_LOCATION }}</div>{% endif %}
          {% if settings.PACK_TAGLINE %}<div class="row" id="pack-tagline">{{ settings.PACK_TAGLINE }}</div>{% endif %}
        </div>
      </div>
    </a>

    <!-- Navigation Bar ------------------------------------------------------>
    {% block navbar %}
      <nav class="navbar navbar-expand-lg navbar-dark m-0">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label={% trans 'Toggle Naviation' %}>
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav mr-auto">

            {% if user.is_authenticated %}
              <li class="nav-item{% if 'calendars' in request.resolver_match.app_names %} active{% endif %} mr-lg-3">
                <a class="nav-link" href="{% url 'calendars:list' %}">{% trans 'Calendar' %}</a>
              </li>
              <li class="nav-item{% if 'membership' in request.resolver_match.app_names %} active{% endif %} mr-lg-3">
                <a class="nav-link" href="{% url 'membership:scouts' %}">{% trans 'Members' %}</a>
              </li>
              <li class="nav-item{% if 'documents' in request.resolver_match.app_names %} active{% endif %} mr-lg-3">
                <a class="nav-link" href="{% url 'documents:list' %}">{% trans 'Documents' %}</a>
              </li>
            {% else %}
              <li class="nav-item{% if request.resolver_match.app_name == 'pages' and request.resolver_match.kwargs.slug == 'contact-us' %}  active{% endif %} mr-lg-3">
                <a class="nav-link" href={% url 'pages:detail' 'contact-us' %}>{% trans 'Contact Us' %}</a>
              </li>
            {% endif %}

            {% for link in navbar_links %}
              <li class="nav-item{% if request.resolver_match.app_name == 'pages' and request.resolver_match.kwargs.slug == link.slug %}  active{% endif %} mr-lg-3">
                <a class="nav-link" href={% url 'pages:detail' link.slug %}>{{ link }}</a>
              </li>
            {% endfor %}

            <li class="nav-item{% if request.resolver_match.app_name == 'pages' and request.resolver_match.kwargs.slug == 'about' %}  active{% endif %} mr-lg-3">
              <a class="nav-link" href={% url 'pages:detail' 'about' %}>{% trans 'About our Pack' %}</a>
            </li>
            <li class="nav-item{% if request.resolver_match.app_name == 'pages' and request.resolver_match.kwargs.slug == 'history' %}  active{% endif %} mr-lg-3">
              <a class="nav-link" href={% url 'pages:detail' 'history' %}>{% trans 'Our History' %}</a>
            </li>


          </ul>
          <ul class="navbar-nav ml-auto">
            {% if user.is_authenticated %}
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle text-warning" href="#" id="navbarMemberDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  {{ user.get_short_name }} <i class="fas fa-user-circle ml-2"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarMemberDropdown">
                  <a class="dropdown-item" href="{{ user.get_absolute_url }}">{% trans 'My Profile' %}</a>
                  <a class="dropdown-item" href="{% url 'password_change' %}">{% trans 'Change My Password' %}</a>
                  {% if user.is_staff %}<a class="dropdown-item" href="{% url 'admin:index' %}">{% trans 'Admin' %}</a>{% endif %}
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item text-danger" href="{% url 'logout' %}">Log out</a>
                </div>
              </li>
            {% else %}
              <li class="nav-item">
                <div class="btn-group" role="group" aria-label="{% trans 'Sign up or login' %}">
                  <a class="btn btn-outline-success btn-sm{% if request.resolver_match.url_name == 'signup' %}  active{% endif %}" href="{% url 'pages:signup' %}">{% trans 'Join Us' %}</a>
                  <a class="btn btn-outline-success btn-sm{% if request.resolver_match.url_name == 'login' %}  active{% endif %}" href="{% url 'login' %}?next={{ request.path }}">{% trans 'Sign In' %}</a>
                </div>
              </li>
            {% endif %}
          </ul>
        </div>
      </nav>
    {% endblock navbar %}
  </div>
</header>


<!-- Main Content -------------------------------------------------------->
<main role="main" class="container col-lg-8 my-5">
  {% if messages %}
  <!-- Messages section ---------------------------------------------------->
    {% for message in messages %}
      <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %} alert-dismissible fade show">
        <button type="button" class="close" data-dismiss="alert" aria-label={% trans 'close' %}>
          <span aria-hidden="true"><i class="fas fa-times-circle"></i></span>
        </button>
      </div>
    {% endfor %}
  {% endif %}


  {% block content %}
    <h1>{% trans 'Hello World!' %}</h1>
    {% lorem 6 p %}
  {% endblock content %}
</main>


{% block footer %}
  <!-- Footer Section ------------------------------------------------------>
  <footer class="footer text-center text-light small">
    <div class="my-3">
      <div>{% blocktrans %}A scout is <em>trustworthy, loyal, helpful, friendly, courteous, kind, obedient, cheerful, thrifty, brave, clean, and reverent.</em>{% endblocktrans %}</div>
      <div><i class="far fa-copyright"></i> {% now "Y" %}{% if settings.PACK_NAME %} <strong>{{ settings.PACK_NAME }}</strong>{% endif %}</div>
    </div>
  </footer>
{% endblock footer %}


{% block js %}
  <!-- Bootstrap javascript and its dependencies --------------------------->
  <script src="{% static 'jquery/dist/jquery.min.js' %}"></script>
  <script src="{% static 'popper.js/dist/umd/popper.js' %}"></script>
  <script src="{% static 'bootstrap/dist/js/bootstrap.min.js' %}"></script>
{% endblock js %}


</body>
</html>
