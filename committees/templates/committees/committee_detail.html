{% extends '_base.html' %}
{% load static %}
{% load thumbnail %}

{% block title %}{{ committee }}{% endblock %}

{% block content %}
  <div class="container p-3 bg-white rounded">
    <div class=" d-flex justify-content-between align-items-center">
      <h1>{{ committee }}</h1>
      <div class="btn-group">
        <button type="button" class="btn btn-secondary">{{ current_year }}</button>
        <button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="sr-only">Toggle Dropdown</span>
        </button>
        <div class="dropdown-menu dropdown-menu-right">
          {% for year in all_years %}
            {% if not year == current_year %}
              <a class="dropdown-item" href="{% url 'committee_detail_by_year' slug=committee.slug year=year.year %}">{{ year }}</a>
              {% else %}
              <div class="dropdown-item active">{{ year }}</div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>
    {% if committee.description %}<p class="text-muted">{{ committee.description }}</p>{% endif %}
  </div>

  {% if members.count %}
    <h2 class="mt-3">Member{{ members.count|pluralize }}</h2>
    <ul class="list-group">
      {% for member in members.all %}
        <li class="list-group-item">
          <a href="{{ member.member.get_absolute_url }}">
            <div class="row align-items-center">
              <div class="col-sm-2">
                {% include 'membership/headshot_thumbnail_snippet.html' with member=member.member %}
              </div>
              <div class="col-sm-10">
                <strong>{{ member.member }}</strong><br>
                <span class="text-muted">{{ member.get_position_display }}</span>
              </div>
            </div>
          </a>
        </li>
      {% endfor %}
    </ul>
  {% endif %}

  {% if akelas %}
    {% if not 'Akela' in committee.name %}<h2 class="mt-3">Supporting Akela{{ akelas.count|pluralize }}</h2>{% endif %}
    <ul class="list-group">
      {% for member in akelas.all %}
        <li class="list-group-item">
          <a href="{{ member.member.get_absolute_url }}">
            <div class="row align-items-center">
              <div class="col-sm-2">
                {% include 'membership/headshot_thumbnail_snippet.html' with member=member.member %}
              </div>
              <div class="col-sm-10">
                <strong>{{ member.member }}</strong><br>
              </div>
            </div>
          </a>
        </li>
      {% endfor %}
    </ul>
  {% endif %}

{% endblock %}